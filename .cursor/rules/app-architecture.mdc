---
globs: src/app/**/*,src/server/**/*,src/trpc/**/*
---
# App Architecture

## Next.js App Router Structure
- Frontend routes are in [src/app/(frontend)](mdc:src/app/(frontend))
- Auth pages are in [src/app/(frontend)/(auth)](mdc:src/app/(frontend)/(auth))
- Protected app pages are in [src/app/(frontend)/(app)](mdc:src/app/(frontend)/(app))
- Payload CMS admin is in [src/app/(payload)](mdc:src/app/(payload))

## tRPC Integration
- tRPC server setup is in [src/server](mdc:src/server)
- Client-side tRPC utilities are in [src/trpc](mdc:src/trpc)
- API routes for tRPC are at [src/app/(payload)/api/trpc/[trpc]/route.ts](mdc:src/app/(payload)/api/trpc/[trpc]/route.ts)
- Root router is defined in [src/server/api/root.ts](mdc:src/server/api/root.ts)

## Authentication
- Auth-related components are in auth folder
- Access control functions are in [src/access](mdc:src/access)
